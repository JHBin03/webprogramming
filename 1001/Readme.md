# 06장: 자바스크립트 언어 정리

---

## 1. 강의 목표

* 자바스크립트 언어의 요소와 구조를 이해한다.
* 자바스크립트 코드를 웹 페이지에 삽입하는 방법을 안다.
* 자바스크립트로 브라우저에 출력하고 사용자 입력을 받는 방법을 안다.
* 자바스크립트에서 다루는 데이터 타입과 변수에 대해 이해한다.
* 자바스크립트의 연산자의 종류를 알고 사용할 수 있다.
* 자바스크립트의 조건문과 반복문의 종류를 알고 사용할 수 있다.
* 자바스크립트 함수를 작성하고 `eval()`, `parseInt()` 등의 내장 함수를 활용할 수 있다.

---

## 2. 자바스크립트 언어 특징 및 역할

* 자바스크립트는 1995년에 넷스케이프에서 개발한다.
* HTML 문서에 내장되는 조각 소스 코드 형태의 스크립트 언어이다.
* 컴파일 없이 인터프리터로 바로 실행되며, C언어 구조를 차용하여 단순하고 배우기 쉽다.
* **웹 페이지에서 역할:** 마우스와 키보드 입력을 처리하고 계산 기능을 수행한다.
* HTML 태그의 속성, 콘텐츠, CSS 프로퍼티 값을 동적으로 변경하여 웹 페이지 내용 및 모양을 동적으로 제어한다.
* 브라우저 윈도우 크기와 모양 제어, 새 윈도우 열기/닫기, 히스토리 제어 등의 브라우저 제어 기능을 수행한다.

---

## 3. 자바스크립트 코드의 위치

자바스크립트 코드는 네 가지 위치에 작성할 수 있다.

1.  **HTML 태그의 이벤트 리스너 속성**에 직접 작성한다.
    ```html
    <img src="apple.png" alt="img" onclick="this.src='banana.png'">
    ```
    * `onmouseover` 속성에 코드를 넣어 이미지에 마우스를 올리면 바나나로, `onmouseout`으로 내리면 다시 사과로 바뀌게 한다.

2.  **`<script></script>` 태그** 안에 작성하며, 이는 `<head>`나 `<body>` 내 어디든 여러 번 삽입할 수 있다.
    ```html
    <script>
    function over(obj) { // obj는 전달받은 img 태그를 가리킨다.
        obj.src="media/banana.png";
    }
    function out(obj) {
        obj.src="media/apple.png";
    }
    </script>
    <img src="media/apple.png" onmouseover="over(this)" onmouseout="out(this)">
    ```
    * `this` 키워드는 현재 `<img>` 태그를 가리킨다.

3.  **별도의 `.js` 파일**에 작성하고 `<script>` 태그의 `src` 속성으로 파일을 불러와 사용한다.
    * **lib.js 파일 내용:**
    ```javascript
    /* 자바스크립트 파일 lib.js */
    function over(obj) {
        obj.src="media/banana.png";
    }
    function out(obj) {
        obj.src="media/apple.png";
    }
    ```
    * **HTML 파일에서 불러오기:**
    ```html
    <script src="lib.js">
    // HTML5부터 이곳에 자바스크립트 코드 추가 작성은 하지 않는다.
    </script>
    ```

4.  **URL 부분**에 `javascript:` 접두사를 붙여 작성한다.
    ```html
    <a href="javascript:alert('클릭하셨어요?')">클릭해보세요</a>
    ```

---

## 4. HTML 출력 및 다이얼로그

* **HTML 콘텐츠 출력:** `document.write()` 함수를 사용하여 HTML 콘텐츠를 웹 페이지에 직접 삽입한다.
    ```javascript
    document.write("<h3>Welcome!</h3>");
    document.write("2 + 5 는 <br>");
    document.write("<mark>7 입니다.</mark>");
    ```
    * `document.writeln()` 함수도 있으나 줄 바꿈(`\n`)이 다음 줄로 넘어가는 효과를 주지는 않는다.

* **프롬프트 다이얼로그:** `prompt("메시지", "디폴트 입력값")` 함수를 사용하여 사용자로부터 문자열을 입력받아 리턴한다.
    ```javascript
    let ret = prompt("이름을 입력하세요", "황기태");
    if(ret == null) { /* 취소 버튼 누름 */ }
    else if(ret == "") { /* 입력 없이 확인 버튼 누름 */ }
    else { /* ret에는 입력한 문자열이 저장된다. */ }
    ```

* **확인 다이얼로그:** `confirm("메시지")` 함수는 '확인/취소' 버튼을 가진 다이얼로그를 출력하며, '확인'을 누르면 `true`를, '취소'를 누르거나 창을 닫으면 `false`를 리턴한다.
* **경고 다이얼로그:** `alert("메시지")` 함수는 메시지와 '확인' 버튼을 가진 다이얼로그를 출력하여 사용자에게 메시지를 전달한다.
    ```javascript
    alert("클릭하였습니다.");
    ```

---

## 5. 식별자, 문장, 데이터 타입

* **식별자:** 변수, 상수, 함수의 이름으로 사용한다.
    * 첫 문자는 알파벳, 언더스코어(`_`), 또는 `$` 문자만 사용해야 하며, 대소문자를 구분한다.
    * 숫자로 시작하는 식별자나 예약어는 사용할 수 없다.
* **문장:** 문장과 문장을 구분하기 위해 세미콜론(;)을 사용하며, 한 줄에 한 문장만 있는 경우 생략할 수 있다.
* **데이터 타입:** 숫자, 논리(`true`, `false`), 문자열, 객체 레퍼런스, `null` 타입 등이 있다.
    * 자바스크립트에는 문자 타입이 없으며 문자열로 표현한다.

---

## 6. 변수와 상수

* **변수 선언:** `var`, `let`, 또는 키워드 없이 변수를 선언할 수 있으며, 변수 타입 선언은 하지 않는다.
    ```javascript
    var score;         // var로 선언
    let address = "서울시"; // let으로 선언 및 초기화
    age = 21;          // var나 let 없이 선언, 전역 변수가 된다.
    ```
* **`let`의 특징:** `var` 사용 시 발생하는 변수 재선언 오류를 줄이기 위해 ES6에 도입되며, 동일한 변수 재선언을 불가능하게 한다.
    * `let`은 변수 사용 범위를 **블록 내로 제한**하여 개발자의 실수를 막는다.
    * `var`보다 `let` 사용을 권고한다.
* **변수의 사용 범위:**
    * **전역 변수**는 프로그램 전역에서 사용하며, `var/let` 키워드 없이 선언할 때도 전역 변수가 된다.
    * **지역 변수**는 함수 내에 선언되며 해당 함수 내에서만 사용한다.
    * **블록 변수**는 `if`, `for` 등의 블록 내에 `let`으로 선언되며 블록 내에서만 사용한다.
    ```javascript
    // let x; 는 전역 변수
    function f() {
        let y; // 지역 변수
        if(y == 20) {
            let b = 40; // 블록 변수
            b++;
        }
        // 이곳에서는 블록 변수 b에 접근할 수 없다.
    }
    ```
    * 지역 변수와 전역 변수의 이름이 같을 때, 전역 변수에 접근하려면 `this.전역변수`를 사용한다. 단, `let`으로 선언된 전역 변수는 `this`로 접근할 수 없다.
* **상수:** `const` 키워드로 선언하며, 선언 후 값 수정 및 재선언이 불가하고 블록 범위에서만 사용한다.
    ```javascript
    const MAX = 10;
    MAX = 20; // 오류 발생한다.
    ```

---

## 7. 연산자

* **산술 연산자:** `+`, `-`, `*`, `/`, `%` 5가지가 있으며, 연산 결과는 항상 실수이다.
    ```javascript
    let x = 32;
    let total = 100 + x*2/4 - 3; // total은 113이 된다.
    let div = 32/10;             // div는 3.2가 된다.
    ```
* **증감 연산자:** `++`, `--`를 사용하여 값을 1씩 증가 또는 감소시킨다.
* **대입 연산자:** `+=`, `-=`, `*=` 등의 복합 대입 연산자를 포함하여 오른쪽 식의 결과를 왼쪽 변수에 대입한다.
* **비교 연산자:** 두 값을 비교하여 `true`나 `false`를 리턴한다.
* **논리 연산자:** AND(`&&`), OR(`||`), NOT(`!`) 연산을 수행한다.
* **조건 연산자:** `condition ? expT : expF` 형태로, 조건식 결과에 따라 계산값을 리턴한다.
* **문자열 연산자:** `+`와 `+=`로 문자열을 연결하며, 비교 연산자로 사전 순으로 문자열을 비교한다.
    ```javascript
    23 + 35 + "abc"; // 58 + "abc" -> "58abc"가 된다.
    "abc" + 23 + 35; // "abc23" + 35 -> "abc2335"가 된다.
    ```

---

## 8. 조건문과 반복문

* **`if-else` 조건문:** 조건식의 참/거짓에 따라 서로 다른 코드를 실행한다.
    ```javascript
    // 점수를 입력받아 학점을 매기는 예시
    if(score >= 90)
        grade = "A";
    else if(score >= 80) // 80 이상 90 미만
        grade = "B";
    // ... 이하 생략한다.
    ```

* **`switch` 조건문:** 식의 결과 값에 따라 해당 `case` 문 안의 코드를 실행하며, `case` 문의 값으로는 상수나 리터럴만 사용할 수 있다.
    ```javascript
    switch(coffee) {
    case "espresso" :
    case "에스프레소" : // 의도적으로 break; 문을 생략하여 다음 case와 동일한 코드를 실행한다.
        price = 2000;
        break;
    case "카푸치노" :
        price = 3000;
        break;
    default :
        document.write(coffee + "는 없습니다.");
    }
    ```

* **반복문:** `for`, `while`, `do-while` 문을 사용하여 코드를 반복 실행한다.
    * **`for` 문 예시:**
    ```javascript
    for(let size=10; size<=35; size+=5) { // 5씩 증가한다.
        document.write("<span style='font-size:" + size + "px'>");
        document.write(size + "px");
        document.write("</span>");
    }
    ```
    * **`break` 문:** 가장 안쪽 반복문 하나만 벗어나도록 제어한다.
        ```javascript
        while(true) { // 무한 반복한다.
            sum += i;
            if(sum > 3000)
                break; // 합이 3000보다 크면 반복문을 벗어난다.
            i++;
        }
        ```
    * **`continue` 문:** 반복 코드 실행을 중단하고 다음 반복으로 점프한다.
        ```javascript
        for(let i=1; i<=10; i++) {
            if(i%3 != 1) // 3으로 나눈 나머지가 1이 아닌 경우
                continue; // 다음 반복(i++ 코드로)으로 점프한다.
            // ... 나머지 코드를 실행한다.
        }
        ```

---

## 9. 함수

* **함수란** 목적을 가지고 작성된 코드 블록이며, 데이터를 전달받아 처리한 후 결과를 돌려주는 코드 블록이다.
* **함수 구성:** `function` 키워드, 함수 이름, 매개 변수, 그리고 결과를 리턴하는 `return` 문으로 구성한다.
    ```javascript
    function adder ( a, b ) {
        let sum;
        sum = a + b;
        return sum; // 덧셈 합을 리턴한다.
    }
    ```
    * `return` 문이 없으면 `undefined`를 리턴한다.
* **익명 함수:** 함수 이름이 없는 함수를 변수에 대입하여 사용한다.
    ```javascript
    let f = function() {
        // ... 코드를 실행한다.
    };
    f(); // 변수 f를 함수 이름처럼 사용하여 함수를 호출한다.
    ```
* **화살표 함수:** 익명 함수를 간결하게 표현하기 위해 ES6에서 도입되며, `function` 키워드 대신 `=>`를 사용한다.
    ```javascript
    let f = (a, b) => { return a + b };
    // 매개 변수가 하나일 경우 괄호를 생략할 수 있다.
    // 실행문이 하나일 경우 중괄호와 return을 생략할 수 있다.
    let f2 = a => a * 2;
    ```
* **전역 함수:** 사용자에게 제공되는 함수이며, `eval()`, `parseInt()`, `isNaN()` 등이 있다.
    * **`eval()` 함수:** 문자열로 된 자바스크립트 코드를 실행한다.
        ```javascript
        let res = eval("2*3+4*6"); // res는 30이 된다.
        ```
    * **`parseInt()` 함수:** 문자열을 정수로 변환하여 리턴한다.
        ```javascript
        let m = parseInt("32"); // m은 32가 된다.
        let n = parseInt("0x32"); // n은 16진수 0x32를 10진수 50으로 변환한다.
        ```
    * **`isNaN()` 함수:** 인자가 숫자가 아닌지 검사하여 `true/false`를 리턴한다.
        ```javascript
        n = parseInt("hello"); // "hello"는 숫자가 아니므로 NaN이 된다.
        if(isNaN(n)) // true이므로 실행된다.
            document.write("hello는 숫자가 아닙니다.");
        ```
